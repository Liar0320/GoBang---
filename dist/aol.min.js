!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports=React},function(e,t,i){"use strict";var r,n=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function s(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},r=[],n=0;n<e.length;n++){var a=e[n],l=t.base?a[0]+t.base:a[0],c=i[l]||0,u="".concat(l," ").concat(c);i[l]=c+1;var d=s(u),E={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(E)):o.push({identifier:u,updater:f(E,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var n=i.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function E(e,t,i,r){var n=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function h(e,t,i){var r=i.css,n=i.media,a=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,b=0;function f(e,t){var i,r,n;if(t.singleton){var a=b++;i=p||(p=c(t)),r=E.bind(null,i,a,!1),n=E.bind(null,i,a,!0)}else i=c(t),r=h.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<i.length;r++){var n=s(i[r]);o[n].references--}for(var a=l(e,t),c=0;c<i.length;c++){var u=s(i[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}i=a}}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var n=(o=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[i].concat(a).concat([n]).join("\n")}var o,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(n[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INIT="INIT",e.BOARDCLEAR="BOARDCLEAR",e.PIECEDOWN="PIECEDOWN",e.PIECEDOWNAI="PIECEDOWNAI",e.USERPIECECOLORCHOSE="USERPIECECOLORCHOSE",e.USERREGRET="USERREGRET",e.USERGIVEUP="USERGIVEUP",e.GAMESTART="GAMESTART",e.GAMEOVER="GAMEOVER",e.GAMEPAUSE="GAMEPAUSE"}(t.EACTIONTYPE||(t.EACTIONTYPE={})),function(e){e[e.GAMEREADY=0]="GAMEREADY",e[e.GAMESTART=1]="GAMESTART",e[e.GAMEPAUSE=2]="GAMEPAUSE",e[e.GAMEOVER=3]="GAMEOVER"}(t.EGAMESTATUS||(t.EGAMESTATUS={})),function(e){e.dbGame="双人游戏",e.snGame="联网对战",e.aiGame="人机对战",e.regret="悔棋",e.restart="重新开始",e.exit="退出"}(t.EGAMEBTNTYPE||(t.EGAMEBTNTYPE={})),function(e){e.WHITE="white",e.BLACK="black"}(t.EPIEVESTYPE||(t.EPIEVESTYPE={}))},function(e,t){e.exports=ReactRedux},function(e,t,i){"use strict";var r=i(2),n=i.n(r)()(!1);n.push([e.i,".cursor--2EwMY{cursor:pointer}.pieces-demo--191NA{display:inline-block;border-radius:50%;height:30px;width:30px}.pieces-demo--black--YUXw1{background-image:radial-gradient(#636363, #0a0a0a)}.pieces-demo--white--gVsrt{background-image:radial-gradient(#f9f9f9, #d1d1d1)}.container--D7_Io{padding:20px;background-color:#0eb83a;border-radius:4px;width:420px;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.board---SKs2{font-size:0;position:relative}.board__border--1sqy7{background-color:transparent}.board__border--l--3r2hR{height:30px;border:1px solid #dedede;box-sizing:border-box;border-right:0;border-bottom:0}.board__border--l--3r2hR:after{content:'';display:block;border:solid 1px #dedede;border-top:0;border-left:0;height:100%}.board__border--inside--1Mq8t{position:absolute;height:100%;top:0}.board__border--v--3vAhZ{display:inline-block;width:30px;height:100%}.board__border--v--3vAhZ:after{content:'';display:block;border-right:solid 1px #dedede;height:100%}.pieces--2uBNA{display:inline-block;border-radius:50%;height:25px;width:25px;margin:2.5px;transform:translate(-50%, -50%);transition:all 0.5s}.pieces--2uBNA:hover{transform:translate(-50%, -50%) scale(1.1);cursor:pointer;opacity:.25}.turn-black--TMTb1 .pieces--2uBNA:hover{background-image:radial-gradient(#636363, #0a0a0a)}.turn-white--1v0VB .pieces--2uBNA:hover{background-image:radial-gradient(#f9f9f9, #d1d1d1)}.pieces--prev--2gx7U{border:solid 2px red;box-sizing:border-box}.pieces--container---YHFU{position:absolute;width:450px;z-index:10;margin-left:-2.5px;margin-top:-2.5px;line-height:0}.pieces--2uBNA.pieces--black--29pQm{cursor:auto;opacity:1;transform:translate(-50%, -50%) scale(1);background-image:radial-gradient(#636363, #0a0a0a) !important}.pieces--2uBNA.pieces--white--3L8ee{cursor:auto;opacity:1;transform:translate(-50%, -50%) scale(1);background-image:radial-gradient(#f9f9f9, #d1d1d1) !important}.reset__lich--3NM7D.pieces--2uBNA:hover{transform:translate(-50%, -50%);cursor:inherit;opacity:inherit}.turn-black--TMTb1 .reset__lich--3NM7D.pieces--2uBNA:hover{background-image:none}.turn-white--1v0VB .reset__lich--3NM7D.pieces--2uBNA:hover{background-image:none}\n",""]),n.locals={cursor:"cursor--2EwMY","pieces-demo":"pieces-demo--191NA","pieces-demo--black":"pieces-demo--black--YUXw1","pieces-demo--white":"pieces-demo--white--gVsrt",container:"container--D7_Io",board:"board---SKs2",board__border:"board__border--1sqy7","board__border--l":"board__border--l--3r2hR","board__border--inside":"board__border--inside--1Mq8t","board__border--v":"board__border--v--3vAhZ",pieces:"pieces--2uBNA","turn-black":"turn-black--TMTb1","turn-white":"turn-white--1v0VB","pieces--prev":"pieces--prev--2gx7U","pieces--container":"pieces--container---YHFU","pieces--black":"pieces--black--29pQm","pieces--white":"pieces--white--3L8ee",reset__lich:"reset__lich--3NM7D"},t.a=n},function(e,t,i){"use strict";var r=i(2),n=i.n(r)()(!1);n.push([e.i,"@keyframes stripe-slide--2MZ8K{0%{background-position:0% 0}100%{background-position:100% 0}}.btn--3hIwB{overflow:visible;margin:0;padding:0;border:0;background:transparent;font:inherit;line-height:normal;cursor:pointer;-moz-user-select:text;outline:none;text-decoration:none;text-transform:uppercase;padding:16px 36px 22px;background-color:#fff;color:#666;border:2px solid #666;border-radius:6px;transition:all 0.5s ease}.btn--3hIwB:-moz-focus-inner{padding:0;border:0}.btn--stripe--3vGCb{overflow:hidden;position:relative}.btn--stripe--3vGCb:after{content:'';display:block;height:7px;width:100%;background-image:repeating-linear-gradient(45deg, #666, #666 1px, transparent 2px, transparent 5px);-webkit-backface-visibility:hidden;backface-visibility:hidden;border-top:1px solid #666;position:absolute;left:0;bottom:0;background-size:7px 7px}.btn--stripe--3vGCb:hover{background-color:#666;color:#fff;border-color:#000}.btn--stripe--3vGCb:hover:after{background-image:repeating-linear-gradient(45deg, #fff, #fff 1px, transparent 2px, transparent 5px);border-top:1px solid #000;animation:stripe-slide--2MZ8K 12s infinite linear forwards}.btn--large--23iDm{width:50%}.btn--radius--1wIql{border-radius:36px}\n",""]),n.locals={btn:"btn--3hIwB","btn--stripe":"btn--stripe--3vGCb","stripe-slide":"stripe-slide--2MZ8K","btn--large":"btn--large--23iDm","btn--radius":"btn--radius--1wIql"},t.a=n},function(e,t,i){"use strict";var r=i(2),n=i.n(r)()(!1);n.push([e.i,".msg--container--2BshI{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:999}.msg--header--1PRUg{position:relative;width:100%;height:30px;background-color:#fff;background:-webkit-linear-gradient(top, #d2d2d2, #a9a9a9);border-radius:10px 10px 0 0;margin-top:-32px}.msg--title--2edr0{color:#303030;font:bold 1.3em/1.5em 'Cabin';text-shadow:0 1px 1px #d2d2d2}.msg--wrap--84bFk{color:#fff;background-color:#27252c;background:-webkit-linear-gradient(top, #27252c, #34323b);min-width:400px;min-height:80px;border-radius:0 0 10px 10px;border-top:2px solid #43404c;text-align:center;box-shadow:0 18px 55px rgba(0,0,0,0.6)}.msg--text--nQfju{color:inherit}.msg--close--3Rl_Y{position:absolute;right:15px;top:0;color:#303030;cursor:pointer}.msg--close--3Rl_Y:hover{color:#000}\n",""]),n.locals={"msg--container":"msg--container--2BshI","msg--header":"msg--header--1PRUg","msg--title":"msg--title--2edr0","msg--wrap":"msg--wrap--84bFk","msg--text":"msg--text--nQfju","msg--close":"msg--close--3Rl_Y"},t.a=n},function(e,t){e.exports=Redux},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(3);t.PIECEDOWN=(e,t)=>({type:r.EACTIONTYPE.PIECEDOWN,index:e,user:t}),t.PIECEDOWNAI=()=>({type:r.EACTIONTYPE.PIECEDOWNAI}),t.USERPIECECOLORCHOSE=()=>({type:r.EACTIONTYPE.USERPIECECOLORCHOSE}),t.USERREGRET=()=>({type:r.EACTIONTYPE.USERREGRET}),t.BOARDCLEAR=()=>({type:r.EACTIONTYPE.BOARDCLEAR}),t.GAMEINIT=()=>({type:r.EACTIONTYPE.INIT}),t.GAMESTART=e=>({type:r.EACTIONTYPE.GAMESTART,gameBtnType:e}),t.GAMEOVER=e=>({type:r.EACTIONTYPE.GAMEOVER,user:e}),t.GAMEPAUSE=()=>({type:r.EACTIONTYPE.GAMEPAUSE})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(0),n=i(11),a=i(4),o=i(8),s=i(12),l=i(22),c=o.createStore(l.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));n.render(r.createElement(a.Provider,{store:c},r.createElement(s.default,null)),document.querySelector("#🐍"))},function(e,t){e.exports=ReactDOM},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(0),n=i(13),a=i(16),o=i(19);t.default=()=>r.createElement("div",null,r.createElement(o.default,null),r.createElement(n.default,null),r.createElement(a.default,null))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(4),n=i(14),a=i(9);t.default=r.connect(e=>Object.assign({},e.board),e=>({PIECEDOWN:(t,i,r)=>{e(a.PIECEDOWN(t,i)),r&&e(a.PIECEDOWNAI())},BOARDCLEAR:()=>e(a.BOARDCLEAR()),USERPIECECOLORCHOSE:()=>e(a.USERPIECECOLORCHOSE())}))(n.default)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(0),n=i(0),a=i(15),o=i(3),s={active:!1,show:!0,maxCell:225,status:o.EGAMESTATUS.GAMEREADY};class l extends r.Component{constructor(){super(...arguments),this.name="Board",this.state=Object.assign(Object.assign({},s),{maxCell:this.props.size.length*this.props.size.length})}static getDerivedStateFromProps(e,t){if(e.status!==t.status){const t={status:e.status};return[o.EGAMESTATUS.GAMESTART].includes(e.status)?t.active=!0:t.active=!1,t}return null}getPiecesClass(e){const t=[a.default.pieces],i=e/15>>0,r=e%15,n={[o.EPIEVESTYPE.WHITE]:a.default["pieces--white"],[o.EPIEVESTYPE.BLACK]:a.default["pieces--black"]},{size:s}=this.props,l=s[i][r];return void 0!==l&&t.push(n[l]),this.props.prevChose===e&&t.push(a.default["pieces--prev"]),this.props.status!==o.EGAMESTATUS.GAMESTART&&t.push(a.default.reset__lich),t.join(" ")}falldown(e){this.state.active&&this.props.PIECEDOWN(e,this.props.turn,this.props.type===o.EGAMEBTNTYPE.aiGame)}render(){return n.createElement("div",{"data-name":this.name,className:a.default.container},n.createElement("div",{className:[a.default["pieces--container"],this.props.turn===o.EPIEVESTYPE.WHITE?a.default["turn-white"]:a.default["turn-black"]].join(" ")},new Array(225).fill(null).map((e,t)=>n.createElement("div",{key:t,className:this.getPiecesClass.call(this,t),onClick:()=>{this.falldown(t)}}))),n.createElement("div",{className:a.default.board},n.createElement("div",{className:a.default.board__border},new Array(14).fill(null).map((e,t)=>n.createElement("div",{key:t,className:[a.default.board__border,a.default["board__border--l"]].join(" ")}))),n.createElement("div",{className:a.default["board__border--inside"],"data-tag":"board__border-v"},new Array(14).fill(null).map((e,t)=>n.createElement("div",{key:t,className:(a.default.board__border,a.default["board__border--v"])})))))}}t.default=l},function(e,t,i){"use strict";i.r(t);var r=i(1),n=i.n(r),a=i(5),o={esModule:!0,insert:"head",singleton:!1};n()(a.a,o);t.default=a.a.locals||{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(4),n=i(17),a=i(9);t.default=r.connect(e=>({status:e.board.status}),e=>({GAMESTART:t=>{e(a.GAMESTART(t)),e(a.BOARDCLEAR())},GAMEINIT:()=>{e(a.GAMEINIT())},GAMEPAUSE:()=>e(a.GAMEPAUSE()),USERREGRET:()=>e(a.USERREGRET())}))(n.default)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(0),n=i(0),a=i(18),o=i(3);t.initState={btnCollection:[o.EGAMEBTNTYPE.aiGame,o.EGAMEBTNTYPE.dbGame],show:!0,status:o.EGAMESTATUS.GAMESTART};class s extends r.Component{constructor(){super(...arguments),this.name="Control",this.state=t.initState}static getDerivedStateFromProps(e,i){if(e.status!==i.status){const i={status:e.status};return[o.EGAMESTATUS.GAMEREADY,o.EGAMESTATUS.GAMEOVER].includes(e.status)?(i.btnCollection=[...t.initState.btnCollection],o.EGAMESTATUS.GAMEOVER===e.status&&i.btnCollection.push(o.EGAMEBTNTYPE.exit)):i.btnCollection=[o.EGAMEBTNTYPE.exit,o.EGAMEBTNTYPE.regret],i}return null}onClick(e){switch(e){case o.EGAMEBTNTYPE.dbGame:this.props.GAMESTART(o.EGAMEBTNTYPE.dbGame);break;case o.EGAMEBTNTYPE.aiGame:this.props.GAMESTART(o.EGAMEBTNTYPE.aiGame);break;case o.EGAMEBTNTYPE.exit:this.props.GAMEINIT();break;case o.EGAMEBTNTYPE.regret:this.props.USERREGRET();break;default:window.alert("暂未开放")}}render(){const e=this.state.btnCollection.map(e=>n.createElement("button",{key:e,className:[a.default.btn,a.default["btn--stripe"]].join(" "),onClick:this.onClick.bind(this,e)},e));return n.createElement("div",{"data-name":this.name,style:{textAlign:"center"}},e)}}t.default=s},function(e,t,i){"use strict";i.r(t);var r=i(1),n=i.n(r),a=i(6),o={esModule:!0,insert:"head",singleton:!1};n()(a.a,o);t.default=a.a.locals||{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(4),n=i(20);t.default=r.connect(e=>({status:e.board.status,winner:e.board.winner}))(n.default)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(0),n=i(0),a=i(21),o=i(3);class s extends r.Component{constructor(){super(...arguments),this.name="Message",this.state={title:"消息",text:"....等待开始游戏",btn:null,show:![o.EGAMESTATUS.GAMEREADY,o.EGAMESTATUS.GAMESTART].includes(this.props.status),status:o.EGAMESTATUS.GAMEREADY}}static getDerivedStateFromProps(e,t){if(e.status!==t.status){const t={status:e.status,show:![o.EGAMESTATUS.GAMEREADY,o.EGAMESTATUS.GAMESTART].includes(e.status)};let i=null;return i=e.winner===o.EPIEVESTYPE.BLACK?"黑色选手胜利":e.winner===o.EPIEVESTYPE.WHITE?"白色选手胜利":e.status===o.EGAMESTATUS.GAMEPAUSE?"...等待继续游戏":"...等待开始游戏",e.status===o.EGAMESTATUS.GAMEREADY?t.btn=null:t.btn=["close"],t.text=i,t}return null}close(){this.setState({show:!1})}render(){let e=null;e=this.state.show?{display:"block"}:{display:"none"};let t=null;return this.state.btn&&(t=this.state.btn.map(e=>"close"===e?n.createElement("span",{key:e,className:a.default["msg--close"],onClick:this.close.bind(this)},"×"):"")),n.createElement("div",{className:a.default["msg--container"],style:e},n.createElement("div",{className:a.default["msg--wrap"]},n.createElement("div",{className:a.default["msg--header"]},n.createElement("div",{className:a.default["msg--title"]},this.state.title),t),n.createElement("p",{className:a.default["msg--text"]},this.state.text)))}}t.default=s},function(e,t,i){"use strict";i.r(t);var r=i(1),n=i.n(r),a=i(7),o={esModule:!0,insert:"head",singleton:!1};n()(a.a,o);t.default=a.a.locals||{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(8),n=i(23);t.default=r.combineReducers({board:n.default})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(3),n=i(24),a=new Array(15).fill(null).map(()=>new Array(15).fill(null)),o={type:null,size:[["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],["white","black","black","black","black","black","white","white","white","black","black","black","black","black","white"],["black","white","white","white","white","white","black","white","black","white","white","white","white","white","black"],["white","black","black","black","black","black","white","white","white","black","black","black","black","black","white"],["white","black","white","white","white","black","white","white","white","black","white","white","white","black","white"],["white","black","white","white","white","black","white","white","white","black","white","white","white","black","white"],["white","black","white","white","white","black","white","white","white","black","white","white","white","black","white"],["white","black","white","white","white","black","white","white","white","black","white","white","white","black","white"],["white","black","white","white","white","black","white","white","white","black","white","white","white","black","white"],["white","black","black","black","black","black","white","white","white","black","black","black","black","black","white"],["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"]],turn:r.EPIEVESTYPE.BLACK,prevChose:null,histroyChose:[],status:r.EGAMESTATUS.GAMEREADY,winner:null},s=n.logicWinFnc();function l(e){return e.turn===r.EPIEVESTYPE.WHITE?e.turn=r.EPIEVESTYPE.BLACK:e.turn=r.EPIEVESTYPE.WHITE,JSON.parse(JSON.stringify(e))}function c(e,t){const i=e/15>>0,r=e%15,{size:n}=t;if(!n[i][r])return n[i][r]=t.turn,(t=l(t)).histroyChose.push(e),t.prevChose=e,JSON.parse(JSON.stringify(t))}function u(e,t){return e===r.EPIEVESTYPE.WHITE?0===t?r.EPIEVESTYPE.BLACK:r.EPIEVESTYPE.WHITE:e===r.EPIEVESTYPE.BLACK?0===t?r.EPIEVESTYPE.WHITE:r.EPIEVESTYPE.BLACK:null}function d(e,t,i){const n=e/15>>0,a=e%15;return s.downChess(a,n,t)?Object.assign(Object.assign({},i),{status:r.EGAMESTATUS.GAMEOVER,winner:t}):i}t.default=function(e=JSON.parse(JSON.stringify(o)),t){switch(t.type){case r.EACTIONTYPE.INIT:return Object.assign({},o);case r.EACTIONTYPE.GAMESTART:return s.restart(),Object.assign(Object.assign({},o),{size:a,type:t.gameBtnType||o.type,status:r.EGAMESTATUS.GAMESTART});case r.EACTIONTYPE.GAMEOVER:return Object.assign(Object.assign({},e),{winner:t.user,status:r.EGAMESTATUS.GAMEOVER});case r.EACTIONTYPE.USERREGRET:return function(e){let t=0;for(;t<2;){const i=e.histroyChose.pop(),r=i/15>>0,n=i%15,{size:a}=e;a[r][n]=null,e.prevChose=e.histroyChose[e.histroyChose.length-1],s.regret(n,r,u(e.turn,t)),t++}return Object.assign({},e)}(e);case r.EACTIONTYPE.PIECEDOWN:const i=c(t.index,JSON.parse(JSON.stringify(e)));return d(t.index,t.user,i);case r.EACTIONTYPE.PIECEDOWNAI:const n=e.turn,E=function(e){return s.ai(e.turn)}(JSON.parse(JSON.stringify(e)));return d(E,n,c(E,JSON.parse(JSON.stringify(e))));case r.EACTIONTYPE.USERPIECECOLORCHOSE:return l(e);default:return e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logicWinFnc=()=>{let e=null;const t=[],i=[],r=[];let n=0;function a(){e=new Array(15).fill(null).map(()=>new Array(15).fill(0));for(let e=0;e<15;e++){t[e]=[];for(let i=0;i<15;i++)t[e][i]=[]}n=0;for(let e=0;e<15;e++)for(let i=0;i<11;i++){for(let r=0;r<5;r++)t[e][i+r][n]=!0;n++}for(let e=0;e<15;e++)for(let i=0;i<11;i++){for(let r=0;r<5;r++)t[i+r][e][n]=!0;n++}for(let e=0;e<11;e++)for(let i=0;i<11;i++){for(let r=0;r<5;r++)t[e+r][i+r][n]=!0;n++}for(let e=0;e<11;e++)for(let i=14;i>3;i--){for(let r=0;r<5;r++)t[e+r][i-r][n]=!0;n++}for(let e=0;e<n;e++)i[e]=0,r[e]=0}return a(),{downChess:(a,o,s)=>(e[a][o]=s,function(e,a,o){for(let s=0;s<n;s++){if(t[e][a][s]&&("black"===o?(i[s]++,r[s]+=10):"white"===o&&(r[s]++,i[s]+=10)),"black"===o&&5===i[s])return!0;if("white"===o&&5===r[s])return!0}return!1}(a,o,s)),regret(a,o,s){e[a][o]=0;for(let e=0;e<n;e++)t[a][o][e]&&("black"===s?(i[e]--,r[e]-=10):"white"===s&&(r[e]--,i[e]-=10))},ai(a){const o=[],s=[];let l=0,c=0,u=0;for(let e=0;e<15;e++){o[e]=[],s[e]=[];for(let t=0;t<15;t++)o[e][t]=0,s[e][t]=0}let d=null,E=null;"black"===a?(d=r,E=i):(d=i,E=r);for(let i=0;i<15;i++)for(let r=0;r<15;r++)if(0===e[i][r]){for(let e=0;e<n;e++)t[i][r][e]&&(1===d[e]?o[i][r]+=200:2===d[e]?o[i][r]+=400:3===d[e]?o[i][r]+=2e3:4===d[e]&&(o[i][r]+=1e4),1===E[e]?s[i][r]+=220:2===E[e]?s[i][r]+=420:3===E[e]?s[i][r]+=2100:4===E[e]&&(s[i][r]+=2e4));o[i][r]>l?(l=o[i][r],c=i,u=r):o[i][r]===l&&s[i][r]>s[c][u]&&(c=i,u=r),s[i][r]>l?(l=s[i][r],c=i,u=r):s[i][r]===l&&o[i][r]>o[c][u]&&(c=i,u=r)}return 15*u+c},restart(){a()}}},t.logicWin=t.logicWinFnc()}]);